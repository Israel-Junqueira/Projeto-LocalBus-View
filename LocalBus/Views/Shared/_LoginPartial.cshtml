@using LocalBus.Context
@using Microsoft.AspNetCore.Identity


@inject SignInManager<MyUser> SignInManager
@inject UserManager<MyUser> UserManager
@inject AppDbContext context

<html>
<head>
    <link rel="stylesheet" href="~/css/MenuLogin.css" asp-append-version="true" />
    <script src="~/js/MenuLogin.js"></script>
</head>

@if (SignInManager.IsSignedIn(User))
{
       <form asp-area="" asp-controller="Account" asp-action="Logout" id="logoutForm" method="post" class="navbar-left">
      
        <div class="container-fluid" style="margin-left:190px">
        <div id="menu">
            <div id="menu-bar" onclick="menuOnClick()">
              
                <img src="https://img.icons8.com/color-glass/2x/username.png" width="30" height="30" >
                
            </div>
            <nav class="nav" id="nav">
                <ul>
                    <li><a><h3>@User.Identity.Name</h3></a></li>
                    <li><a asp-controller="Account" asp-action="Perfil" asp-route-id="@UserManager.GetUserId(User)" >Perfil da Escola</a></li>
                    <li><a href="#">Configurações do Usuario</a></li>
                    <li><a asp-controller="Account" asp-action="Logout1"> Sair </a></li>
                
                </ul>
            </nav>
        </div>

        <div class="menu-bg" id="menu-bg"></div>
      </div>
    </form>
         
   
}
else
{

    <ul class="navbar-nav nav-left">
        <a class="nav-link text-dark" asp-controller="Account" asp-action="Login" asp-route-returnUrl="@string.Format("{0}{1}",Context.Request.Path, Context.Request.QueryString)" style="color:white"> &nbsp;Log in &nbsp;</a>
        <a class="nav-link text-dark" asp-controller="Account" asp-action="Registro" style="color:white"> &nbsp;Registro&nbsp;&nbsp;&nbsp; </a>
    </ul>

}
